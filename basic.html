<!doctype HTML>
<html>
<link rel="icon" href="data:;base64,iVBORw0KGgo=">

<script src="https://aframe.io/releases/1.1.0/aframe.min.js"></script>
<script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>

<body style="margin: 0px; overflow: hidden;" onload="onLoadFunction()">
  
<script type="text/javascript">
    function onLoadFunction() {

        // Get id value
        let queryString = window.location.search.substring(1);
        let urlParams = new URLSearchParams(queryString);
        let id = urlParams.get('id') || '';

        // Get name from id value
        let map = new Map([
            ["m1", "Michel"], 
            ["m2", "René"],
            ["m3", "Sophie et Séb"]
        ]);
        let name = map.get(id);

        // Build message
        let fMessage = "Bonne année 2021" +(name ? '\n' + name : '') + "!"  

        // Set message
        let ftext = document.querySelector('#ftext');
        if (ftext) {

            ftext.setAttribute('value', 'Bonne annee 2021 "');
        }        
    }
</script>

<!-- set detectionMode and matrixCodeType to enable barcode marker detection and custom pattern files -->
<a-scene embedded vr-mode-ui="enabled: false;" arjs="debugUIEnabled: false; detectionMode: mono_and_matrix; matrixCodeType: 3x3;">

    <a-assets>
        <img id="coronavirus" src="images/coronavirus7.png"/>
        <img id="needle" src="images/needle1.png"/>         
    </a-assets>
   
    <a-marker type="pattern" url="data/letterA.patt">
        <a-box id="arBox" src="#coronavirus" 
        transparent="true"
        opacity="0.95">
        </a-box>
    </a-marker>

    <a-marker type="pattern" url="data/letterQ.patt">
        <a-box id="arBox" src="#needle" 
        transparent="true"
        opacity="0.95">
        </a-box>
    </a-marker> 

    <a-marker type="pattern" url="data/letterF.patt">
        <a-text id="ftext" value="Bonne annee 2021!"
               font="fonts/Exo2Bold.fnt" 
               color="red" 
               rotation="-90 0 0" 
               align="center" 
               width="2" 
               scale="2 2 2">
       </a-text>
    </a-marker>  

    <a-entity camera></a-entity>
    
</a-scene>
</body>

</html>